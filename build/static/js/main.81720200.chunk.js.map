{"version":3,"sources":["services/persons.js","components/Person.js","components/Persons.js","components/PersonForm.js","components/Filter.js","components/App.js","index.js"],"names":["baseUrl","services_persons","axios","get","newObject","post","id","delete","put","concat","then","response","data","Person","_ref","name","number","persons","setPersons","react_default","a","createElement","Persons","filter","newPersons","i","length","toUpperCase","startsWith","undefined","map","person","components_Person","key","Fragment","PersonForm","newName","setNewName","newNumber","setNewNumber","setMessage","rName","setRName","setErrorMsg","removeFromPersons","splice","onSubmit","event","preventDefault","er","window","confirm","personService","catch","error","setTimeout","value","onChange","target","type","console","log","alert","Filter","setFilter","Notification","message","className","Error","_ref2","App","_useState","useState","_useState2","Object","slicedToArray","_useState3","_useState4","_useState5","_useState6","_useState7","_useState8","_useState9","_useState10","_useState11","_useState12","_useState13","_useState14","errorMsg","useEffect","App_Notification","App_Error","components_Filter","components_PersonForm","components_Persons","ReactDOM","render","components_App","document","getElementById"],"mappings":"qNAEMA,EAAU,eAoBDC,EAlBA,WACX,OAAOC,IAAMC,IAAIH,IAiBNC,EAdA,SAAAG,GACX,OAAOF,IAAMG,KAAKL,EAASI,IAahBH,EAVA,SAACK,GACZ,OAAOJ,IAAMK,OAAOP,EAAU,IAAMM,IASzBL,EANA,SAACK,EAAIF,GAEhB,OADgBF,IAAMM,IAAN,GAAAC,OAAaT,EAAb,KAAAS,OAAwBH,GAAMF,GAC/BM,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QCF9BC,EAbA,SAAAC,GAAwC,IAArCC,EAAqCD,EAArCC,KAAKC,EAAgCF,EAAhCE,OAAgCF,EAAzBG,QAAyBH,EAAjBI,WAIpC,OACEC,EAAAC,EAAAC,cAAA,WACGN,EADH,IACUC,IC0CCM,EAhDC,SAAAR,GAAmC,IAAhCG,EAAgCH,EAAhCG,QAAQM,EAAwBT,EAAxBS,OAAOL,EAAiBJ,EAAjBI,WAC5BM,EAAa,GACbJ,EAAI,EACR,GAAc,KAAXG,EACD,IAAI,IAAIE,EAAE,EAAGA,EAAER,EAAQS,OAAQD,IAC1BR,EAAQQ,GAAGV,KAAKY,cAAcC,WAAWL,EAAOI,iBACjDH,EAAWJ,GAAKH,EAAQQ,GACxBL,UAIJI,EAAaP,EAIf,QAAkBY,IAAfL,EAWD,OACEL,EAAAC,EAAAC,cAAA,WAXiBG,EAAWM,IAAI,SAAAC,GAAM,OACtCZ,EAAAC,EAAAC,cAACW,EAAD,CACEC,IAAKF,EAAOhB,KACZA,KAAMgB,EAAOhB,KACbC,OAAQe,EAAOf,OACfO,OAAQA,EACRN,QAASA,EACTC,WAAYA,OAUlB,OACEC,EAAAC,EAAAC,cAAAF,EAAAC,EAAAc,SAAA,OCmIWC,EArKI,SAAArB,GAWb,IAVJG,EAUIH,EAVJG,QACAC,EASIJ,EATJI,WACAkB,EAQItB,EARJsB,QACAC,EAOIvB,EAPJuB,WACAC,EAMIxB,EANJwB,UACAC,EAKIzB,EALJyB,aACAC,EAII1B,EAJJ0B,WACAC,EAGI3B,EAHJ2B,MACAC,EAEI5B,EAFJ4B,SACAC,EACI7B,EADJ6B,YA0GMC,EAAoB,WACxB,IAAI,IAAInB,EAAE,EAAGA,EAAER,EAAQS,OAAQD,IAC7B,GAAGR,EAAQQ,GAAGV,OAAS0B,EACrB,OAAOxB,EAAQ4B,OAAOpB,EAAG,IAiB/B,OACEN,EAAAC,EAAAC,cAAA,WAGEF,EAAAC,EAAAC,cAAA,QAAMyB,SA/HQ,SAACC,GAGjB,GAFAA,EAAMC,sBAESnB,IAAZZ,EAED,IADA,IAAIG,GAAI,EACAK,EAAE,EAAGA,EAAER,EAAQS,OAAQD,IAC1BR,EAAQQ,GAAR,OAAuBW,IAAShB,GAAI,GAK3C,GAAGA,EAAG,CACJ,IAAI6B,GAAK,EACNC,OAAOC,QAAP,GAAA1C,OAAkB2B,EAAlB,sDAMDgB,EACUhB,EANK,CACbrB,KAAMqB,EACNpB,OAAQsB,EACRhC,GAAI8B,IAGqB1B,KAAK,SAAAC,GAC5BO,EAAWD,EAAQa,IAAI,SAAAC,GAAM,OAAIA,EAAOzB,KAAO8B,EAAUL,EAASpB,KAClE0B,EAAW,IACXE,EAAa,MAEdc,MAAM,SAAAC,GACLL,GAAK,EACLN,EAAW,GAAAlC,OAAI2B,EAAJ,kCACXmB,WAAW,WACTZ,EAAY,OACX,KACHzB,EAAW0B,KAGZK,IACDT,EAAU,GAAA/B,OAAI2B,EAAJ,4BACVmB,WAAW,WACTf,EAAW,OACV,WAKF,CACL,IAAMT,EAAS,CACbhB,KAAMqB,EACNpB,OAAQsB,EACRhC,GAAI8B,GAENgB,EACUrB,GACPrB,KAAK,SAAAC,GAEFO,OADaW,IAAZZ,EACUA,EAAQR,OAAOE,EAASC,MAExB,CAACmB,IAGdM,EAAW,IACXE,EAAa,MAEjBC,EAAU,GAAA/B,OAAI2B,EAAJ,8BACVmB,WAAW,WACTf,EAAW,OACV,QAgEDrB,EAAAC,EAAAC,cAAA,oBACQF,EAAAC,EAAAC,cAAA,SAAOmC,MAAOpB,EAASqB,SAlBf,SAACV,GACrBV,EAAWU,EAAMW,OAAOF,WAmBpBrC,EAAAC,EAAAC,cAAA,sBACUF,EAAAC,EAAAC,cAAA,SAAOmC,MAAOlB,EAAWmB,SAjBjB,SAACV,GACvBR,EAAaQ,EAAMW,OAAOF,WAkBtBrC,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,UAAQsC,KAAK,UAAb,iBAGJxC,EAAAC,EAAAC,cAAA,+BACAF,EAAAC,EAAAC,cAAA,QAAMyB,SAvEW,SAACC,GACpBA,EAAMC,iBAGN,IADA,IAAI5B,GAAI,EACAK,EAAE,EAAGA,EAAER,EAAQS,OAAQD,IAC1BR,EAAQQ,GAAR,OAAuBgB,IAAOrB,GAAI,GAEjB,IAAnBH,EAAQS,SACTT,EAAU,IAGTG,GACDgC,EACUX,GACVW,IAEG1C,KAAK,SAAAC,GACJiD,QAAQC,IAAI,sBACZD,QAAQC,IAAIlD,EAASC,MAErBM,EAAWD,EAAQM,OAAO,SAAAQ,GAAM,OAAIA,EAAOhB,OAAS0B,KACpDmB,QAAQC,IAAI5C,GACZyB,EAAS,IACTF,EAAU,GAAA/B,OAAI2B,EAAJ,6BACVmB,WAAW,WACTf,EAAW,OACV,MACN,MAEDU,OAAOY,MAAP,GAAArD,OAAgBgC,EAAhB,wBACAC,EAAS,OA0CPvB,EAAAC,EAAAC,cAAA,2BACeF,EAAAC,EAAAC,cAAA,SAAOmC,MAAOf,EAAOgB,SAtBtB,SAACV,GACnBL,EAASK,EAAMW,OAAOF,WAuBlBrC,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,UAAQsC,KAAK,UAAb,cC/IKI,EAfA,SAAAjD,GAA0B,IAAvBS,EAAuBT,EAAvBS,OAAOyC,EAAgBlD,EAAhBkD,UAMvB,OACE7C,EAAAC,EAAAC,cAAA,YACEF,EAAAC,EAAAC,cAAA,8BACeF,EAAAC,EAAAC,cAAA,SAAOmC,MAAOjC,EAAQkC,SAPpB,SAACV,GACpBiB,EAAUjB,EAAMW,OAAOF,aCErBS,SAAe,SAAAnD,GAAiB,IAAdoD,EAAcpD,EAAdoD,QACtB,OAAgB,OAAZA,EACK,KAIP/C,EAAAC,EAAAC,cAAA,OAAK8C,UAAU,WACZD,KAKDE,EAAQ,SAAAC,GAAiB,IAAdH,EAAcG,EAAdH,QACf,OAAe,OAAZA,EACM,KAIP/C,EAAAC,EAAAC,cAAA,OAAK8C,UAAU,SACZD,IAmEQI,EA9DH,WAAM,IAAAC,EACeC,mBAAS,IADxBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACRtD,EADQwD,EAAA,GACCvD,EADDuD,EAAA,GAAAG,EAEgBJ,mBAAS,IAFzBK,EAAAH,OAAAC,EAAA,EAAAD,CAAAE,EAAA,GAERxC,EAFQyC,EAAA,GAECxC,EAFDwC,EAAA,GAAAC,EAGYN,mBAAS,IAHrBO,EAAAL,OAAAC,EAAA,EAAAD,CAAAI,EAAA,GAGRrC,EAHQsC,EAAA,GAGDrC,EAHCqC,EAAA,GAAAC,EAIoBR,mBAAS,IAJ7BS,EAAAP,OAAAC,EAAA,EAAAD,CAAAM,EAAA,GAIR1C,EAJQ2C,EAAA,GAIG1C,EAJH0C,EAAA,GAAAC,EAKaV,mBAAS,IALtBW,EAAAT,OAAAC,EAAA,EAAAD,CAAAQ,EAAA,GAKR3D,EALQ4D,EAAA,GAKDnB,EALCmB,EAAA,GAAAC,EAMgBZ,mBAAS,MANzBa,EAAAX,OAAAC,EAAA,EAAAD,CAAAU,EAAA,GAMRlB,EANQmB,EAAA,GAMC7C,EAND6C,EAAA,GAAAC,EAOkBd,mBAAS,MAP3Be,EAAAb,OAAAC,EAAA,EAAAD,CAAAY,EAAA,GAORE,EAPQD,EAAA,GAOE5C,EAPF4C,EAAA,GAuBhB,OAdAE,oBAAU,WACR7B,QAAQC,IAAI,UACZT,IAEG1C,KAAK,SAAAC,GACJiD,QAAQC,IAAI,sBACZ3C,EAAWP,EAASC,SAEvB,IAODO,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,6BACAF,EAAAC,EAAAC,cAACqE,EAAD,CAAcxB,QAASA,IACvB/C,EAAAC,EAAAC,cAACsE,EAAD,CAAOzB,QAASA,IAChB/C,EAAAC,EAAAC,cAACuE,EAAD,CACErE,OAAQA,EACRyC,UAAWA,IAEb7C,EAAAC,EAAAC,cAAA,+BACAF,EAAAC,EAAAC,cAACwE,EAAD,CACE5E,QAASA,EACTC,WAAYA,EACZkB,QAASA,EACTC,WAAYA,EACZC,UAAWA,EACXC,aAAcA,EACd2B,QAASA,EACT1B,WAAYA,EACZC,MAAOA,EACPC,SAAUA,EACV8C,SAAUA,EACV7C,YAAaA,IAEfxB,EAAAC,EAAAC,cAAA,sBACAF,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACyE,EAAD,CACE7E,QAASA,EACTM,OAAQA,EACRL,WAAYA,OC/EtB6E,IAASC,OAAO7E,EAAAC,EAAAC,cAAC4E,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.81720200.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    return axios.get(baseUrl)\n}\n\nconst create = newObject => {\n    return axios.post(baseUrl, newObject)\n}\n\nconst remove = (id) => {\n    return axios.delete(baseUrl + '/' + id)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\n\nexport default {\n    getAll: getAll,\n    create: create,\n    remove: remove,\n    update: update\n}","import React from 'react'\nimport personService from '../services/persons'\n\nconst Person = ({ name,number,persons,setPersons }) => {\n\n\n  \n  return (\n    <div>\n      {name} {number} \n    </div>\n  )\n\n\n}\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst Persons = ({ persons,filter,setPersons }) => {\n  var newPersons = []\n  var a = 0;\n  if(filter !== '') {\n    for(var i=0; i<persons.length; i++) {\n      if(persons[i].name.toUpperCase().startsWith(filter.toUpperCase())) {\n        newPersons[a] = persons[i]\n        a++\n      }\n    }\n  } else {\n    newPersons = persons\n  }\n\n  \n  if(newPersons !== undefined) {\n    const rows = () => newPersons.map(person => \n      <Person \n        key={person.name} \n        name={person.name}\n        number={person.number}\n        filter={filter}\n        persons={persons}\n        setPersons={setPersons}\n      />\n    ) \n    return(\n      <div>\n        {rows()}\n      </div>\n    )\n  }\n\n  return (\n    <>\n    </>\n  )\n\n\n\n\n\n}\n\n\n\n\n\nexport default Persons","import React from 'react'\nimport personService from '../services/persons'\n\nconst PersonForm = ({ \n  persons,\n  setPersons,\n  newName,\n  setNewName,\n  newNumber,\n  setNewNumber,\n  setMessage,\n  rName,\n  setRName,\n  setErrorMsg \n}) => {\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    if(persons !== undefined) {\n      var a = false;\n      for(var i=0; i<persons.length; i++) {\n        if(persons[i]['name'] === newName) a = true\n      }\n    }\n\n\n    if(a) {\n      var er = true\n      if(window.confirm(`${newName} on jo luettelossa. Korvataanko numero uudella?`)) {\n        const person = {\n          name: newName,\n          number: newNumber,\n          id: newName\n        }\n        personService\n          .update(newName, person).then(response => {\n            setPersons(persons.map(person => person.id !== newName ? person : response))\n            setNewName('')\n            setNewNumber('')\n          })\n          .catch(error => {\n            er = false\n            setErrorMsg(`${newName} oli jo poistettu luettelosta`)\n            setTimeout(() => {\n              setErrorMsg(null)\n            }, 5000)\n            setPersons(removeFromPersons)\n            \n          })\n        if(er) {\n          setMessage(`${newName} muutettu onnistuneesti`)\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        }\n\n          \n      }\n    } else {\n      const person = {\n        name: newName,\n        number: newNumber,\n        id: newName\n      }\n      personService\n        .create(person)\n        .then(response => {\n          if(persons !== undefined) {\n            setPersons(persons.concat(response.data))\n          } else {\n            setPersons([person])\n          }\n          \n          setNewName('')\n          setNewNumber('')\n        })\n      setMessage(`${newName} lisÃ¤tty onnistuneesti`)\n      setTimeout(() => {\n        setMessage(null)\n      }, 5000)\n    }  \n  }\n\n  const removePerson = (event) => {\n    event.preventDefault()\n\n    var a = false;\n    for(var i=0; i<persons.length; i++) {\n      if(persons[i]['name'] === rName) a = true\n    }\n    if(persons.length === 1) {\n      persons = []\n    }\n\n    if(a) {\n      personService\n        .remove(rName)\n      personService\n        .getAll()\n        .then(response => {\n          console.log('promise fullfilled')\n          console.log(response.data)\n          \n          setPersons(persons.filter(person => person.name !== rName))\n          console.log(persons)\n          setRName('')\n          setMessage(`${newName} poistettu onnistuneesti`)\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n    }, [])\n    } else {\n      window.alert(`${rName} ei ole luettelossa`)\n      setRName('')\n    }\n    \n  }\n\n  const removeFromPersons = () => {\n    for(var i=0; i<persons.length; i++) {\n      if(persons[i].name !== rName) {\n        return persons.splice(i, 1)\n      }\n    }\n  }\n\n  const handleNewName = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNewNumber = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleRName = (event) => {\n    setRName(event.target.value)\n  }\n\n  return(\n    <div>\n\n\n      <form onSubmit={addPerson}>\n        <div>\n          nimi: <input value={newName} onChange={handleNewName} />\n        </div>\n        <div>\n          numero: <input value={newNumber} onChange={handleNewNumber}/>\n        </div>\n        <div>\n          <button type=\"submit\">lisÃ¤Ã¤</button>\n        </div>\n      </form>\n      <h3>Poista henkilÃ¶</h3>\n      <form onSubmit={removePerson}>\n        <div>\n          poistettava: <input value={rName} onChange={handleRName} />\n        </div>\n        <div>\n          <button type=\"submit\">poista</button>\n        </div>\n\n      </form>\n    </div>\n  )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Filter = ({ filter,setFilter }) => {\n\n  const handleFilter = (event) => {\n    setFilter(event.target.value)\n  } \n\n  return(\n    <form>\n      <div>\n        rajaa nimiÃ¤: <input value={filter} onChange={handleFilter}/>\n      </div>\n    </form>\n  )\n}\n\nexport default Filter","import React, { useState, useEffect } from 'react'\nimport Persons from './Persons'\nimport PersonForm from './PersonForm'\nimport Filter from './Filter'\nimport personService from '../services/persons'\nimport '../index.css'\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className=\"success\">\n      {message}\n    </div>\n  )\n}\n\nconst Error = ({ message }) => {\n  if(message === null) {\n    return null\n  }\n\n  return (\n    <div className=\"error\">\n      {message}\n    </div>\n  )\n}\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ rName, setRName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filter,setFilter ] = useState('')\n  const [ message, setMessage ] = useState(null)\n  const [ errorMsg, setErrorMsg ] = useState(null)\n\n  useEffect(() => {\n    console.log('effect')\n    personService\n      .getAll()\n      .then(response => {\n        console.log('promise fullfilled')\n        setPersons(response.data)\n      })\n  }, [])\n\n  \n\n\n\n  return (\n    <div>\n      <h2>Puhelinluettelo</h2>\n      <Notification message={message} />\n      <Error message={message}/>\n      <Filter \n        filter={filter}\n        setFilter={setFilter}\n      />\n      <h3>LisÃ¤Ã¤ uusi:</h3>\n      <PersonForm \n        persons={persons}\n        setPersons={setPersons}\n        newName={newName}\n        setNewName={setNewName}\n        newNumber={newNumber}\n        setNewNumber={setNewNumber}\n        message={message}\n        setMessage={setMessage}\n        rName={rName}\n        setRName={setRName}\n        errorMsg={errorMsg}\n        setErrorMsg={setErrorMsg}\n      />\n      <h3>Numerot:</h3>\n      <div>\n        <Persons \n          persons={persons} \n          filter={filter} \n          setPersons={setPersons}\n        />\n      </div>\n    </div>\n  )\n\n}\n\n\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './components/App'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}